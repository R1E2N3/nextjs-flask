"use client";

import React, { useState } from 'react';

const AdultForm = () => {
    const [formData, setFormData] = useState({
        age: '',
        A1: '',
        A2: '',
        A3: '',
        A4: '',
        A5: '',
        A6: '',
        A7: '',
        A8: '',
        A9: '',
        A10: '',
        A11: '',
    });

    const [apiResponse, setApiResponse] = useState(null)

    const handleInputChange = (name, value) => {
        setFormData(prevFormData => ({
            ...prevFormData,
            [name]: value,
        }));
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        try {
            const response = await fetch('/api/adult/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            });
            const responseData = await response.json();
            console.log(responseData);
            setApiResponse(responseData)
            // Display response data as needed
        } catch (error) {
            console.error('Error:', error);
        }
    };

    return (
        <section>
            <h1 className='head_text orange_gradient'>Adult Form</h1>
            <form className='flex-col gap-4' onSubmit={handleSubmit}>
                <div className='my-10 flex-col'>
                    <p className=''>What's your age?</p>
                    <input
                        className='number_input'
                        type="number"
                        placeholder="18"
                        value={formData.age}
                        onChange={(e) => handleInputChange('age', e.target.value)}
                    />
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you have difficulty understanding people's intentions?</p>
                    <input type="radio" id="A1_strongly_agree" name="A1" value="Strongly agree" onChange={(e) => handleInputChange('A1', e.target.value)} />
                    <label htmlFor="A1_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A1_agree" name="A1" value="Agree" onChange={(e) => handleInputChange('A1', e.target.value)} />
                    <label htmlFor="A1_agree">Agree</label>
                    <input type="radio" id="A1_disagree" name="A1" value="Disagree" onChange={(e) => handleInputChange('A1', e.target.value)} />
                    <label htmlFor="A1_disagree">Disagree</label>
                    <input type="radio" id="A1_strongly_disagree" name="A1" value="Strongly disagree" onChange={(e) => handleInputChange('A1', e.target.value)} />
                    <label htmlFor="A1_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you find it easy to figure out what someone is thinking or feeling just by looking at their face?</p>
                    <input type="radio" id="A2_strongly_agree" name="A2" value="Strongly agree" onChange={(e) => handleInputChange('A2', e.target.value)} />
                    <label htmlFor="A2_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A2_agree" name="A2" value="Agree" onChange={(e) => handleInputChange('A2', e.target.value)} />
                    <label htmlFor="A2_agree">Agree</label>
                    <input type="radio" id="A2_disagree" name="A2" value="Disagree" onChange={(e) => handleInputChange('A2', e.target.value)} />
                    <label htmlFor="A2_disagree">Disagree</label>
                    <input type="radio" id="A2_strongly_disagree" name="A2" value="Strongly disagree" onChange={(e) => handleInputChange('A2', e.target.value)} />
                    <label htmlFor="A2_strongly_disagree">Strongly disagree</label>
                </div>
                {/* Repeat similar radio button groups for each question */}
                <div className='my-10 flex-col'>
                    <p className='desc'>Can you tell if someone who is listening to you is getting bored?</p>
                    <input type="radio" id="A5_strongly_agree" name="A5" value="Strongly agree" onChange={(e) => handleInputChange('A5', e.target.value)} />
                    <label htmlFor="A5_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A5_agree" name="A5" value="Agree" onChange={(e) => handleInputChange('A5', e.target.value)} />
                    <label htmlFor="A5_agree">Agree</label>
                    <input type="radio" id="A5_disagree" name="A5" value="Disagree" onChange={(e) => handleInputChange('A5', e.target.value)} />
                    <label htmlFor="A5_disagree">Disagree</label>
                    <input type="radio" id="A5_strongly_disagree" name="A5" value="Strongly disagree" onChange={(e) => handleInputChange('A5', e.target.value)} />
                    <label htmlFor="A5_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you find it easy to "read between the lines" when someone is talking to you?</p>
                    <input type="radio" id="A6_strongly_agree" name="A6" value="Strongly agree" onChange={(e) => handleInputChange('A6', e.target.value)} />
                    <label htmlFor="A6_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A6_agree" name="A6" value="Agree" onChange={(e) => handleInputChange('A6', e.target.value)} />
                    <label htmlFor="A6_agree">Agree</label>
                    <input type="radio" id="A6_disagree" name="A6" value="Disagree" onChange={(e) => handleInputChange('A6', e.target.value)} />
                    <label htmlFor="A6_disagree">Disagree</label>
                    <input type="radio" id="A6_strongly_disagree" name="A6" value="Strongly disagree" onChange={(e) => handleInputChange('A6', e.target.value)} />
                    <label htmlFor="A6_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Are you able to easily return to what you were doing after an interruption?</p>
                    <input type="radio" id="A7_strongly_agree" name="A7" value="Strongly agree" onChange={(e) => handleInputChange('A7', e.target.value)} />
                    <label htmlFor="A7_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A7_agree" name="A7" value="Agree" onChange={(e) => handleInputChange('A7', e.target.value)} />
                    <label htmlFor="A7_agree">Agree</label>
                    <input type="radio" id="A7_disagree" name="A7" value="Disagree" onChange={(e) => handleInputChange('A7', e.target.value)} />
                    <label htmlFor="A7_disagree">Disagree</label>
                    <input type="radio" id="A7_strongly_disagree" name="A7" value="Strongly disagree" onChange={(e) => handleInputChange('A7', e.target.value)} />
                    <label htmlFor="A7_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you find it easy to do more than one thing at once?</p>
                    <input type="radio" id="A8_strongly_agree" name="A8" value="Strongly agree" onChange={(e) => handleInputChange('A8', e.target.value)} />
                    <label htmlFor="A8_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A8_agree" name="A8" value="Agree" onChange={(e) => handleInputChange('A8', e.target.value)} />
                    <label htmlFor="A8_agree">Agree</label>
                    <input type="radio" id="A8_disagree" name="A8" value="Disagree" onChange={(e) => handleInputChange('A8', e.target.value)} />
                    <label htmlFor="A8_disagree">Disagree</label>
                    <input type="radio" id="A8_strongly_disagree" name="A8" value="Strongly disagree" onChange={(e) => handleInputChange('A8', e.target.value)} />
                    <label htmlFor="A8_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you typically focus more on the big picture rather than small details?</p>
                    <input type="radio" id="A9_strongly_agree" name="A9" value="Strongly agree" onChange={(e) => handleInputChange('A9', e.target.value)} />
                    <label htmlFor="A9_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A9_agree" name="A9" value="Agree" onChange={(e) => handleInputChange('A9', e.target.value)} />
                    <label htmlFor="A9_agree">Agree</label>
                    <input type="radio" id="A9_disagree" name="A9" value="Disagree" onChange={(e) => handleInputChange('A9', e.target.value)} />
                    <label htmlFor="A9_disagree">Disagree</label>
                    <input type="radio" id="A9_strongly_disagree" name="A9" value="Strongly disagree" onChange={(e) => handleInputChange('A9', e.target.value)} />
                    <label htmlFor="A9_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you often notice small sounds when others do not?</p>
                    <input type="radio" id="A10_strongly_agree" name="A10" value="Strongly agree" onChange={(e) => handleInputChange('A10', e.target.value)} />
                    <label htmlFor="A10_strongly_agree">Strongly agree</label>
                    <input type="radio" id="A10_agree" name="A10" value="Agree" onChange={(e) => handleInputChange('A10', e.target.value)} />
                    <label htmlFor="A10_agree">Agree</label>
                    <input type="radio" id="A10_disagree" name="A10" value="Disagree" onChange={(e) => handleInputChange('A10', e.target.value)} />
                    <label htmlFor="A10_disagree">Disagree</label>
                    <input type="radio" id="A10_strongly_disagree" name="A10" value="Strongly disagree" onChange={(e) => handleInputChange('A10', e.target.value)} />
                    <label htmlFor="A10_strongly_disagree">Strongly disagree</label>
                </div>
                <div className='my-10 flex-col'>
                    <p className='desc'>Do you have jaundice?</p>
                    <input type="radio" id="A11_yes" name="A11" value="Yes" onChange={(e) => handleInputChange('A11', e.target.value)} />
                    <label htmlFor="A11_yes">Yes</label>
                    <input type="radio" id="A11_no" name="A11" value="No" onChange={(e) => handleInputChange('A11', e.target.value)} />
                    <label htmlFor="A11_no">No</label>
                </div>
                {/* Submit Button */}
                <button className='ui_btn' type="submit">Submit</button>
            </form>

            {apiResponse && (
              <div>
                <h2>Response from API</h2>
                <pre>{JSON.stringify(apiResponse, null, 2)}</pre>
              </div>
            )}
            <br />
            <br />
        </section>
    );
};

export default AdultForm;
